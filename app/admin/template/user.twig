{% extends "base.layout.twig" %}

{% block content %}

{% if action == 'edit' %}
	<ul class="breadcrumb">
		<li><a href="/user">{% trans "Users" %}</a> <span class="divider">/</span></li>
		<li class="active">{% trans "Edit user" %}</li>
	</ul>

	<div class="page-header">
		<h3>{% trans "Edit user" %}</h3>
	</div>

	{% if saved %}
	<div class="alert alert-success">
		{% trans "User details saved" %}
	</div>
	{% endif %}

	{% set parameters = {
		'user': user
	}%}

	{% include 'snippet/form/user.twig' with parameters %}

{% else %}
	<ul class="breadcrumb">
		<li class="active">{% trans "Users" %}</li>
	</ul>

	<div class="page-header">
		<h3>{% trans "Users" %}</h3>

		<div class="pull-right pull-up-h3">
			{{ base.modal('Add user'|trans, 'button', 'icon-plus-sign', 'form/user', 'Add user'|trans, parameters) }}
		</div>
	</div>

	{% for user in users %}
		{% if loop.first %}
			<table class="table table-striped table-hover table-condensed">
				<thead>
					<tr>
						<th>{% trans "ID" %}</th>
						<th>{% trans "Firstname" %}</th>
						<th>{% trans "Lastname" %}</th>
						<th>{% trans "Email" %}</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tbody>
		{% endif %}

		<tr>
			<td>{{ user.id }}</td>
			<td>{{ user.firstname }}</td>
			<td>{{ user.lastname }}</td>
			<td>{{ user.email }}</td>
			<td>
				<a href="/user?action=edit&id={{ user.id }}">
					<i class="icon-pencil"></i>
				</a>
			</td>
		</tr>

		{% if loop.last %}
				</tbody>
			</table>
		{% endif %}
	{% endfor %}
{% endif %}

{% endblock content %}
